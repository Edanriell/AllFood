!function(){"use strict";var t,e={9057:function(t,e,n){function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,a,s=[],r=!0,o=!1;try{for(n=n.call(t);!(r=(i=n.next()).done)&&(s.push(i.value),!e||s.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==n.return||n.return()}finally{if(o)throw a}}return s}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){c=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw r}}}}function s(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=function(){function t(e){var n=e.sliderWrapper,i=e.sliderItems,a=e.btnPrev,s=e.btnNext,r=e.autoPlayEnabled,o=e.autoPlayInterval,c=e.slideIndicatorContainer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wrapper=document.querySelector(n),this.items=document.querySelector(i),this.prev=document.querySelector(a),this.next=document.querySelector(s),this.indicatorContainer=document.querySelector(c),this.autoPlay=r,this.interval=o,this.posX1=0,this.posX2=0,this.posInitial=null,this.posFinal=null,this.threshold=100,this.slides=this.items.querySelectorAll(".page-main__slider__slides__slide"),this.slidesLength=this.slides.length,this.slideSize=this.items.querySelectorAll(".page-main__slider__slides__slide")[0].offsetWidth,this.firstSlide=this.slides[0],this.lastSlide=this.slides[this.slidesLength-1],this.cloneFirst=this.firstSlide.cloneNode(!0),this.cloneLast=this.lastSlide.cloneNode(!0),this.index=0,this.allowShift=!0,this.dragStart=this.dragStart.bind(this),this.dragAction=this.dragAction.bind(this),this.dragEnd=this.dragEnd.bind(this),this.shiftSlide=this.shiftSlide.bind(this),this.checkIndex=this.checkIndex.bind(this),this.init=this.init.bind(this),this.shiftSlideOnIndicatorClick=this.shiftSlideOnIndicatorClick.bind(this)}var e,n,s;return e=t,(n=[{key:"init",value:function(){var t=this;this.items.appendChild(this.cloneFirst),this.items.insertBefore(this.cloneLast,this.firstSlide),this.wrapper.classList.add("page-main__slider__loaded"),this.items.onmousedown=this.dragStart,this.items.addEventListener("touchstart",(function(){t.dragStart()})),this.items.addEventListener("touchend",(function(){t.dragEnd()})),this.items.addEventListener("touchmove",(function(){t.dragAction()})),this.prev.addEventListener("click",(function(e){t.shiftSlide(-1),t.disableButtons(e)})),this.next.addEventListener("click",(function(e){t.shiftSlide(1),t.disableButtons(e)})),this.createIndicators(),this.autoPlay&&this.autoShiftSlide(),this.wrapper.addEventListener("mouseenter",(function(){clearInterval(t.autoPlay),t.toggleControls({classOnMouseoverPrev:"page-main__slider__controls__prev-slide-btn__mouseover",classOnMouseoverNext:"page-main__slider__controls__next-slide-btn__mouseover",classOnMouseoutPrev:"page-main__slider__controls__prev-slide-btn__mouseout",classOnMouseoutNext:"page-main__slider__controls__next-slide-btn__mouseout"})})),this.wrapper.addEventListener("mouseleave",(function(){t.autoPlay&&t.autoShiftSlide(),t.toggleControls({classOnMouseoverPrev:"page-main__slider__controls__prev-slide-btn__mouseover",classOnMouseoverNext:"page-main__slider__controls__next-slide-btn__mouseover",classOnMouseoutPrev:"page-main__slider__controls__prev-slide-btn__mouseout",classOnMouseoutNext:"page-main__slider__controls__next-slide-btn__mouseout"})})),this.items.addEventListener("transitionend",(function(){t.checkIndex()})),this.shiftSlideOnIndicatorClick()}},{key:"dragStart",value:function(t){(t=t||window.event).preventDefault(),this.posInitial=this.items.offsetLeft,"touchstart"===t.type?this.posX1=t.touches[0].clientX:(this.posX1=t.clientX,document.onmouseup=this.dragEnd,document.onmousemove=this.dragAction)}},{key:"dragAction",value:function(t){"touchmove"===(t=t||window.event).type?(this.posX2=this.posX1-t.touches[0].clientX,this.posX1=t.touches[0].clientX):(this.posX2=this.posX1-t.clientX,this.posX1=t.clientX),this.items.style.left="".concat(this.items.offsetLeft-this.posX2,"px")}},{key:"dragEnd",value:function(){this.posFinal=this.items.offsetLeft,this.posFinal-this.posInitial<-this.threshold?this.shiftSlide(1,"drag"):this.posFinal-this.posInitial>this.threshold?this.shiftSlide(-1,"drag"):this.items.style.left="".concat(this.posInitial,"px"),document.onmouseup=null,document.onmousemove=null}},{key:"shiftSlide",value:function(t,e){this.items.style.transition=null,this.items.classList.add("page-main__slider__slides__shift"),console.log("".concat(this.posX1," shift x1")),console.log("".concat(this.posX2," shift x2")),console.log("".concat(this.posInitial," shift posInitial")),console.log("".concat(this.posFinal," shift posfinal")),this.allowShift&&(e||(this.posInitial=this.items.offsetLeft),1===t?(this.items.style.left="".concat(this.posInitial-this.slideSize,"px"),this.index++,this.changeIndicator(".page-main__slider__dots__dot","page-main__slider__dots__dot__active"),this.showSlideDescription(".page-main__slider__slides__slide__description","page-main__slider__slides__slide__description__animate")):-1===t&&(this.items.style.left="".concat(this.posInitial+this.slideSize,"px"),this.index--,this.changeIndicator(".page-main__slider__dots__dot","page-main__slider__dots__dot__active"),this.showSlideDescription(".page-main__slider__slides__slide__description","page-main__slider__slides__slide__description__animate")))}},{key:"checkIndex",value:function(){this.items.classList.remove("page-main__slider__slides__shift"),-1===this.index&&(this.items.style.left="".concat(-this.slidesLength*this.slideSize,"px"),this.index=this.slidesLength-1),this.index===this.slidesLength&&(this.items.style.left="".concat(-1*this.slideSize,"px"),this.index=0),this.allowShift=!0}},{key:"toggleControls",value:function(t){var e=t.classOnMouseoverPrev,n=t.classOnMouseoverNext,i=t.classOnMouseoutPrev,a=t.classOnMouseoutNext;this.prev.classList.contains(e)||this.next.classList.contains(n)?this.prev.classList.contains(e)&&this.next.classList.contains(n)&&(this.prev.classList.remove(e),this.next.classList.remove(n),this.prev.classList.add(i),this.next.classList.add(a)):(this.prev.classList.add(e),this.next.classList.add(n),this.prev.classList.remove(i),this.next.classList.remove(a))}},{key:"autoShiftSlide",value:function(){var t=this;this.autoPlay=setInterval((function(){t.shiftSlide(1)}),this.interval)}},{key:"createIndicators",value:function(){for(var t=0;t<this.slidesLength;t++){var e=document.createElement("li"),n=document.createElement("button");n.style.transition="all 0.25s linear";var i=document.createElement("span");i.classList.add("visually-hidden"),i.innerText="Слайд номер ".concat(t),n.append(i),n.classList.add("page-main__slider__dots__dot","page-main__slider__dots__dot__inactive"),e.append(n),this.indicatorContainer.append(e)}}},{key:"changeIndicator",value:function(t,e){var n,i=document.querySelectorAll(t),s=a(i);try{for(s.s();!(n=s.n()).done;)n.value.classList.remove(e)}catch(t){s.e(t)}finally{s.f()}this.index===this.slidesLength?i[0].classList.add(e):-1===this.index?i[this.slidesLength-1].classList.add(e):i[this.index].classList.add(e)}},{key:"shiftSlideOnIndicatorClick",value:function(){var t,e=this,n=a(document.querySelectorAll(".page-main__slider__dots__dot").entries());try{var s=function(){var n=i(t.value,2),a=n[0];n[1].addEventListener("click",(function(){e.items.style.left="".concat(-e.slideSize*(a+1),"px"),e.items.style.transition="all .2s ease-out",e.index=0===a?e.slidesLength:a,e.changeIndicator(".page-main__slider__dots__dot","page-main__slider__dots__dot__active"),e.showSlideDescription(".page-main__slider__slides__slide__description","page-main__slider__slides__slide__description__animate"),setTimeout((function(){e.items.style.transition=null}),2e3)}))};for(n.s();!(t=n.n()).done;)s()}catch(t){n.e(t)}finally{n.f()}}},{key:"showSlideDescription",value:function(t,e){var n,i=document.querySelectorAll(t),s=a(i);try{for(s.s();!(n=s.n()).done;)n.value.classList.remove(e)}catch(t){s.e(t)}finally{s.f()}this.index===this.slidesLength||0===this.index?i[1].classList.add(e):-1===this.index?i[this.slidesLength].classList.add(e):i[this.index+1].classList.add(e)}},{key:"disableButtons",value:function(t){t.target.setAttribute("disabled",!0),setTimeout((function(){t.target.removeAttribute("disabled")}),200)}}])&&o(e.prototype,n),s&&o(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){o=!0,s=t},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw s}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=function(){function t(e){var n=e.trigger,i=e.itemList,a=e.itemsContainer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.triggerBtns=document.querySelectorAll(n),this.items=document.querySelectorAll(i),this.container=document.querySelector(a),this.sortItems=this.sortItems.bind(this),this.sortByLikes=this.sortByLikes.bind(this),this.sortByCalories=this.sortByCalories.bind(this),this.sortByTime=this.sortByTime.bind(this)}var e,n,i;return e=t,(n=[{key:"init",value:function(){var t=this;this.triggerBtns[0].addEventListener("click",(function(e){t.sortItems("likes"),t.changeButtonStyles(e)})),this.triggerBtns[1].addEventListener("click",(function(e){t.sortItems("calories"),t.changeButtonStyles(e)})),this.triggerBtns[2].addEventListener("click",(function(e){t.sortItems("time"),t.changeButtonStyles(e)})),this.triggerBtns[3].addEventListener("click",(function(){t.fix()}))}},{key:"sortItems",value:function(t){var e=document.querySelectorAll(".page-main__catalog__content li"),n=Array.from(e);if("likes"===t){this.items.forEach((function(t){return t.remove()}));var i,a=l(n.sort(this.sortByLikes));try{for(a.s();!(i=a.n()).done;){var s=i.value;this.container.append(s)}}catch(t){a.e(t)}finally{a.f()}}else if("calories"===t){this.items.forEach((function(t){return t.remove()}));var r,o=l(n.sort(this.sortByCalories));try{for(o.s();!(r=o.n()).done;){var c=r.value;this.container.append(c)}}catch(t){o.e(t)}finally{o.f()}}else if("time"===t){this.items.forEach((function(t){return t.remove()}));var _,d=l(n.sort(this.sortByTime));try{for(d.s();!(_=d.n()).done;){var u=_.value;this.container.append(u)}}catch(t){d.e(t)}finally{d.f()}}}},{key:"sortByLikes",value:function(t,e){var n=t.querySelector("dl .page-main__catalog__content__item__info__total-hearts"),i=this.clearStringFromDigits(n.textContent),a=e.querySelector("dl .page-main__catalog__content__item__info__total-hearts"),s=this.clearStringFromDigits(a.textContent);return i>s?-1:i===s?0:i<s?1:void 0}},{key:"sortByCalories",value:function(t,e){var n=t.querySelector("dl .page-main__catalog__content__item__info__total-calories"),i=this.clearStringFromDigits(n.textContent),a=e.querySelector("dl .page-main__catalog__content__item__info__total-calories"),s=this.clearStringFromDigits(a.textContent);return i>s?-1:i===s?0:i<s?1:void 0}},{key:"sortByTime",value:function(t,e){var n=t.querySelector("dl .page-main__catalog__content__item__info__time-to-cook"),i=this.clearStringFromDigits(n.textContent),a=e.querySelector("dl .page-main__catalog__content__item__info__time-to-cook"),s=this.clearStringFromDigits(a.textContent);return i>s?-1:i===s?0:i<s?1:void 0}},{key:"changeButtonStyles",value:function(t){var e,n=l(this.triggerBtns);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(i===t.target&&i.classList.contains("page-main__settings__sort-and-search__sort__option__btn__active"))return t.target.classList.remove("page-main__settings__sort-and-search__sort__option__btn__active"),void this.resetSort();i.classList.contains("page-main__settings__sort-and-search__sort__option__btn__active")&&i.classList.remove("page-main__settings__sort-and-search__sort__option__btn__active")}}catch(t){n.e(t)}finally{n.f()}t.target.classList.add("page-main__settings__sort-and-search__sort__option__btn__active")}},{key:"resetSort",value:function(){this.items.forEach((function(t){return t.remove()}));var t,e=l(this.items);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.container.append(n)}}catch(t){e.e(t)}finally{e.f()}}},{key:"clearStringFromDigits",value:function(t){return+t.replace(/([^0-9])+/g,"")}}])&&d(e.prototype,n),i&&d(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function h(t,e,n,i,a,s,r){try{var o=t[s](r),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(i,a)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var s=t.apply(e,n);function r(t){h(s,i,a,r,o,"next",t)}function o(t){h(s,i,a,r,o,"throw",t)}r(void 0)}))}}function m(t){return p.apply(this,arguments)}function p(){return(p=f(regeneratorRuntime.mark((function t(e){var n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if((n=t.sent).ok){t.next=5;break}throw new Error("Could not fetch ".concat(e,", status: ").concat(n.status));case 5:if("application/json; charset=utf-8"===(i=n.headers.get("content-type"))){t.next=8;break}throw new TypeError("Expected JSON, got ".concat(i));case 8:return t.next=10,n.json();case 10:return a=t.sent,t.abrupt("return",a);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var g=function(){var t=f(regeneratorRuntime.mark((function t(e,n){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{method:"POST",headers:{"Content-type":"application/json"},body:n});case 2:return i=t.sent,t.next=5,i.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),v=n(2633),y=n(6439),b=n(4402),S=n(2890),w=n(5693),x=n(9766),k=n(7537);function L(t,e,n,i,a,s,r){try{var o=t[s](r),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(i,a)}function I(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var s=t.apply(e,n);function r(t){L(s,i,a,r,o,"next",t)}function o(t){L(s,i,a,r,o,"throw",t)}r(void 0)}))}}function E(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O(t){var e,n,i,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);a--;){if(n&&null!=(e=t[n]))return e.call(t);if(i&&null!=(e=t[i]))return new P(e.call(t));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function P(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return P=function(t){this.s=t,this.n=t.next},P.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new P(t)}var T=function(){function t(e){var n=e.container,i=e.triggerBtn;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=document.querySelector(n),this.trigger=document.querySelector(i),this.cardsFetched=0,this.cardsPerCycle=1,this.totalCardsInDb=this.calculateCards(),this.calculateCards=this.calculateCards.bind(this)}var e,n,i;return e=t,n=[{key:"init",value:function(){var t=this;m("http://localhost:3000/Items").then((function(e){return t.renderCards(e)})).catch((function(e){"NetworkError"===e.name?t.displayErrorMessage("Пожалуйста, проверьте подключение к интернету"):e instanceof TypeError?t.displayErrorMessage("Извините, похоже что-то не так с нашим сервером! Попробуйте снова позже."):t.displayErrorMessage(e)}))}},{key:"calculateCards",value:function(){var t=this;m("http://localhost:3000/Items").then((function(e){t.totalCardsInDb=e.length})).catch((function(e){console.log(e),t.totalCardsInDb=null}))}},{key:"renderCards",value:function(e){for(var n=0;n<this.cardsPerCycle;n++){var i=e[this.cardsFetched],a=i.itemId,s=i.itemSize,r=i.itemClass,o=i.itemImageWidth,c=i.itemImageHeight,l=i.itemAltText,_=i.itemName,d=i.itemDescription,u=i.itemLikes,h=i.itemTimeToCook,f=i.itemCalories,m=document.createElement("li");"large"===s?(m.classList.add(r,"fade-in-fwd"),m.innerHTML='\n        <article class="page-main__catalog__content__item">\n        <a href="#" class="page-main__catalog__content__item__link">\n          <h3 class="page-main__catalog__content__item__name">\n            '.concat(_,'\n          </h3>\n          <img\n            src="').concat(this.findItemImage(a,t.images),'"\n            alt="').concat(l,'"\n            width="').concat(o,'"\n            height="').concat(c,'"\n            class="page-main__catalog__content__item__image"\n          />\n          <p class="page-main__catalog__content__item__description">\n            ').concat(d,';\n          </p>\n          <dl class="page-main__catalog__content__item__info">\n            <dt\n              class="page-main__catalog__content__item__info__heart-icon"\n            >\n              <span class="visually-hidden">лайков</span>\n            </dt>\n            <dd\n              class="\n                page-main__catalog__content__item__info__total-hearts\n              "\n            >\n              ').concat(u,'\n            </dd>\n            <dt\n              class="page-main__catalog__content__item__info__clock-icon"\n            >\n              <span class="visually-hidden">время приготовления</span>\n            </dt>\n            <dd\n              class="\n                page-main__catalog__content__item__info__time-to-cook\n              "\n            >\n              ').concat(h,'\n            </dd>\n            <dt\n              class="page-main__catalog__content__item__info__energy-icon"\n            >\n              <span class="visually-hidden">калорийность блюда</span>\n            </dt>\n            <dd\n              class="\n                page-main__catalog__content__item__info__total-calories\n              "\n            >\n              ').concat(f,"\n            </dd>\n          </dl>\n        </a>\n      </article>\n        ")):"medium"===s?(m.classList.add(r,"fade-in-fwd"),m.innerHTML='\n        <article class="page-main__catalog__content__item">\n        <a href="#" class="page-main__catalog__content__item__link">\n          <h3 class="page-main__catalog__content__item__name">\n            Стейк из лосося\n          </h3>\n          <img\n            src="'.concat(this.findItemImage(a,t.images),'"\n            alt="').concat(l,'"\n            width="').concat(o,'"\n            height="').concat(c,'"\n            class="page-main__catalog__content__item__image"\n          />\n          <p class="page-main__catalog__content__item__description">\n            ').concat(d,'\n          </p>\n          <dl class="page-main__catalog__content__item__info">\n            <dt\n              class="page-main__catalog__content__item__info__heart-icon"\n            >\n              <span class="visually-hidden">лайков</span>\n            </dt>\n            <dd\n              class="\n                page-main__catalog__content__item__info__total-hearts\n              "\n            >\n              ').concat(u,'\n            </dd>\n            <dt\n              class="page-main__catalog__content__item__info__clock-icon"\n            >\n              <span class="visually-hidden">время приготовления</span>\n            </dt>\n            <dd\n              class="\n                page-main__catalog__content__item__info__time-to-cook\n              "\n            >\n              ').concat(h,'\n            </dd>\n            <dt\n              class="page-main__catalog__content__item__info__energy-icon"\n            >\n              <span class="visually-hidden">калорийность блюда</span>\n            </dt>\n            <dd\n              class="\n                page-main__catalog__content__item__info__total-calories\n              "\n            >\n              ').concat(f,"\n            </dd>\n          </dl>\n        </a>\n      </article>\n        ")):(m.classList.add(r,"fade-in-fwd"),m.innerHTML='\n        <article class="page-main__catalog__content__item">\n        <a href="#" class="page-main__catalog__content__item__link">\n          <h3 class="page-main__catalog__content__item__name">\n            '.concat(_,'\n          </h3>\n          <p class="page-main__catalog__content__item__description">\n            ').concat(d,'\n          </p>\n          <dl class="page-main__catalog__content__item__info">\n            <dt\n              class="page-main__catalog__content__item__info__heart-icon"\n            >\n              <span class="visually-hidden">лайков</span>\n            </dt>\n            <dd\n              class="\n                page-main__catalog__content__item__info__total-hearts\n              "\n            >\n              ').concat(u,'\n            </dd>\n            <dt\n              class="page-main__catalog__content__item__info__clock-icon"\n            >\n              <span class="visually-hidden">время приготовления</span>\n            </dt>\n            <dd\n              class="\n                page-main__catalog__content__item__info__time-to-cook\n              "\n            >\n              ').concat(h,'\n            </dd>\n            <dt\n              class="page-main__catalog__content__item__info__energy-icon"\n            >\n              <span class="visually-hidden">калорийность блюда</span>\n            </dt>\n            <dd\n              class="\n                page-main__catalog__content__item__info__total-calories\n              "\n            >\n              ').concat(f,"\n            </dd>\n          </dl>\n        </a>\n      </article>\n        ")),this.container.appendChild(m),this.cardsFetched++}}},{key:"displayErrorMessage",value:function(t){if(!document.querySelector(".message")){var e=document.createElement("div");e.classList.add("message","error","fade-in-fwd"),e.innerHTML='\n        <p class="error__text">Ошибка</p>- '.concat(t,"\n      "),this.container.appendChild(e),setTimeout((function(){e.classList.remove("fade-in-fwd"),e.classList.add("fade-out-bck"),setTimeout((function(){e.remove()}),700)}),8e3)}}},{key:"waitAndFetchElements",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;function n(t){return new Promise((function(e){return setTimeout(e,t-Date.now())}))}return C({startTime:Date.now(),count:1,next:function(){var i=this;return I(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(i.count>e)){a.next=2;break}return a.abrupt("return",{done:!0});case 2:return s=i.startTime+i.count*t,a.next=5,n(s);case 5:return a.abrupt("return",{value:i.count++});case 6:case"end":return a.stop()}}),a)})))()}},Symbol.asyncIterator,(function(){return this}))}},{key:"getCardsOnClick",value:function(){var t=this;this.trigger.addEventListener("click",(function(){I(regeneratorRuntime.mark((function e(){var n,i,a,s,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,i=!1,e.prev=2,s=O(t.waitAndFetchElements(200,4));case 4:return e.next=6,s.next();case 6:if(!(n=!(r=e.sent).done)){e.next=17;break}if(o=r.value,t.cardsFetched!==t.totalCardsInDb){e.next=11;break}return t.disableTrigger(),e.abrupt("return");case 11:t.init(),console.log(o),console.log(t.totalCardsInDb);case 14:n=!1,e.next=4;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(2),i=!0,a=e.t0;case 23:if(e.prev=23,e.prev=24,!n||null==s.return){e.next=28;break}return e.next=28,s.return();case 28:if(e.prev=28,!i){e.next=31;break}throw a;case 31:return e.finish(28);case 32:return e.finish(23);case 33:case"end":return e.stop()}}),e,null,[[2,19,23,33],[24,,28,32]])})))()}))}},{key:"disableTrigger",value:function(){this.trigger.setAttribute("disabled",!0),this.trigger.style.cssText="filter: grayscale(100%)",this.trigger.style.transition="all 0.2s linear",this.trigger.style.cursor="not-allowed"}},{key:"findItemImage",value:function(t,e){return e.filter((function(e){return e.itemId===t})).map((function(t){return t.imageSrc})).join()}}],n&&E(e.prototype,n),i&&E(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function A(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}C(T,"images",[{itemId:0,imageSrc:v},{itemId:2,imageSrc:y},{itemId:4,imageSrc:b},{itemId:5,imageSrc:S},{itemId:6,imageSrc:w},{itemId:8,imageSrc:x},{itemId:9,imageSrc:k}]);var j=function(){function t(e){var n=e.scrollContainer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=document.querySelector(n)}var e,n,i;return e=t,(n=[{key:"init",value:function(){var t=this;this.createBtn();var e=document.querySelector(".pageup");this.toggleClass(e),e.addEventListener("click",(function(e){t.scroll(e)}))}},{key:"createBtn",value:function(){var t=document.createElement("a");t.setAttribute("href","#up"),t.classList.add("pageup"),this.container.appendChild(t)}},{key:"scroll",value:function(t){t.preventDefault();var e=document.documentElement.scrollTop,n=document.querySelector("nav").hash,i=document.querySelector("nav","#up").getBoundingClientRect().top,a=null;requestAnimationFrame((function t(s){null===a&&(a=s);var r=s-a,o=i<0?Math.max(e-r/.01,e+i):Math.min(e+r/.01,e+i);document.documentElement.scrollTo(0,o),o!==e+i?requestAnimationFrame(t):location.hash=n}))}},{key:"toggleClass",value:function(t){window.addEventListener("scroll",(function(){document.documentElement.scrollTop>600&&!t.classList.contains("slide-in-blurred-bottom")?(t.classList.add("slide-in-blurred-bottom"),t.classList.remove("slide-out-blurred-right")):document.documentElement.scrollTop<600&&t.classList.contains("slide-in-blurred-bottom")&&(t.classList.remove("slide-in-blurred-bottom"),t.classList.add("slide-out-blurred-right"))}))}}])&&A(e.prototype,n),i&&A(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function B(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var q=function(){function t(e){var n=e.triggerForm,i=e.databaseName;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.forms=document.querySelectorAll(n),this.database=i}var e,n,i;return e=t,(n=[{key:"init",value:function(){var t=this;this.forms.forEach((function(e){t.bindPostData(e,t.database)}))}},{key:"bindPostData",value:function(t,e){t.addEventListener("submit",(function(n){n.preventDefault(),console.log(e);var i=new FormData(t),a=JSON.stringify(Object.fromEntries(i.entries()));g("http://localhost:3000/".concat(e),a).then((function(t){console.log(t)})).catch((function(t){console.log(t)})).finally((function(){t.reset()}))}))}}])&&B(e.prototype,n),i&&B(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();window.addEventListener("DOMContentLoaded",(function(){var t=new c({sliderWrapper:".page-main__slider",sliderItems:".page-main__slider__slides",btnPrev:".page-main__slider__controls__prev-slide-btn",btnNext:".page-main__slider__controls__next-slide-btn",slideIndicatorContainer:".page-main__slider__dots",autoPlayEnabled:!0,autoPlayInterval:1e4}),e=new u({trigger:".page-main__settings__sort-and-search__sort__option__btn",itemsContainer:".page-main__catalog__content",itemList:".page-main__catalog__content li"}),n=new T({container:".page-main__catalog__content",triggerBtn:".page-main__catalog__load-more"}),i=new j({scrollContainer:"main"});new q({triggerForm:"#form",databaseName:"emails"}).init(),t.init(),e.init(),n.getCardsOnClick(),i.init()}))},2633:function(t,e,n){t.exports=n.p+"assets/images/be5d56ec7797df8724ca.png"},6439:function(t,e,n){t.exports=n.p+"assets/images/4e1932aa1ff9a1f24a4d.png"},4402:function(t,e,n){t.exports=n.p+"assets/images/a674f18e57e3c681b777.png"},2890:function(t,e,n){t.exports=n.p+"assets/images/adcaf05ec4168aa75437.png"},5693:function(t,e,n){t.exports=n.p+"assets/images/b1d51edabea59fb3f829.png"},9766:function(t,e,n){t.exports=n.p+"assets/images/6812163f845c17dfbdcc.png"},7537:function(t,e,n){t.exports=n.p+"assets/images/084117f3b421a7586001.png"}},n={};function i(t){var a=n[t];if(void 0!==a)return a.exports;var s=n[t]={exports:{}};return e[t](s,s.exports,i),s.exports}i.m=e,t=[],i.O=function(e,n,a,s){if(!n){var r=1/0;for(_=0;_<t.length;_++){n=t[_][0],a=t[_][1],s=t[_][2];for(var o=!0,c=0;c<n.length;c++)(!1&s||r>=s)&&Object.keys(i.O).every((function(t){return i.O[t](n[c])}))?n.splice(c--,1):(o=!1,s<r&&(r=s));if(o){t.splice(_--,1);var l=a();void 0!==l&&(e=l)}}return e}s=s||0;for(var _=t.length;_>0&&t[_-1][2]>s;_--)t[_]=t[_-1];t[_]=[n,a,s]},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t}(),function(){var t={179:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,s,r=n[0],o=n[1],c=n[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(a in o)i.o(o,a)&&(i.m[a]=o[a]);if(c)var _=c(i)}for(e&&e(n);l<r.length;l++)s=r[l],i.o(t,s)&&t[s]&&t[s][0](),t[r[l]]=0;return i.O(_)},n=self.webpackChunkallfood=self.webpackChunkallfood||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),i.O(void 0,[981],(function(){return i(6981)}));var a=i.O(void 0,[981],(function(){return i(9057)}));a=i.O(a)}();